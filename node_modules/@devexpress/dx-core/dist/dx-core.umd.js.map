{"version":3,"file":"dx-core.umd.js","sources":["../src/utils.ts","../src/plugin-host.ts","../src/event-emitter.ts","../src/shallow-equal.ts","../src/memoize.ts","../src/easings.ts","../src/messages-formatter.ts"],"sourcesContent":["/** @internal */\nconst DELAY = 200;\n\n/** @internal */\nconst compare = (a, b) => {\n  const aPosition = a.position();\n  const bPosition = b.position();\n  for (let i = 0; i < Math.min(aPosition.length, bPosition.length); i += 1) {\n    if (aPosition[i] < bPosition[i]) return -1;\n    if (aPosition[i] > bPosition[i]) return 1;\n  }\n  return aPosition.length - bPosition.length;\n};\n\n/** @internal */\nexport const insertPlugin = (array, newItem) => {\n  const result = array.slice();\n  const nextItemIndex = array.findIndex(item => compare(newItem, item) <= 0);\n  const targetIndex = nextItemIndex < 0 ? array.length : nextItemIndex;\n  const alreadyExists = (targetIndex >= 0 && targetIndex < array.length)\n    && compare(newItem, array[targetIndex]) === 0;\n  result.splice(targetIndex, alreadyExists ? 1 : 0, newItem);\n  return result;\n};\n\n/** @internal */\nexport const createClickHandlers = (click?, dblClick?) => {\n  let timeoutId;\n  const events: any = {};\n  if (click) {\n    events.onClick = (e) => {\n      if (!timeoutId) {\n        timeoutId = setTimeout(() => {\n          clearTimeout(timeoutId);\n          click(e);\n        }, DELAY);\n      }\n    };\n  }\n  if (dblClick) {\n    events.onDoubleClick = (e) => {\n      clearTimeout(timeoutId);\n      dblClick(e);\n    };\n  }\n  return events;\n};\n\n/** @internal */\nexport const slice = arr => Array.prototype.slice.call(arr); // slice can be renamed to copy as well\n\n/* globals window:true */\n/** @internal */\nexport const isEdgeBrowser = () => /Edge/.test(window.navigator.userAgent);\n","import { insertPlugin } from './utils';\nimport { Getters } from '@devexpress/dx-react-core';\n\nconst getDependencyError = (\n  pluginName, dependencyName,\n  ) => new Error(\n    `The '${pluginName}' plugin requires '${dependencyName}' to be defined before it.`,\n  );\n\n/** @internal */\nexport type PluginPositionFn = () => number[];\n\nexport interface IDependency { name: string; optional?: boolean; }\n\n/** @internal */\nexport type InnerPlugin = {\n  position: PluginPositionFn;\n  name?: string;\n  dependencies?: IDependency[];\n} & Getters;\n\n/** @internal */\nexport class PluginHost {\n  private plugins: InnerPlugin[];\n  private subscriptions: Set<any>;\n  private gettersCache: object = {};\n  private knownKeysCache: object = {};\n  private validationRequired: boolean = true;\n\n  constructor() {\n    this.plugins = [];\n    this.subscriptions = new Set();\n  }\n\n  ensureDependencies() {\n    const defined: Set<string> = new Set();\n    const knownOptionals: Map<string, string> = new Map();\n    this.plugins\n      .filter(plugin => plugin.container)\n      .forEach((plugin) => {\n        const pluginName = plugin.name || '';\n        if (knownOptionals.has(pluginName)) {\n          throw (getDependencyError(knownOptionals.get(pluginName), pluginName));\n        }\n\n        (plugin.dependencies || [])\n          .forEach((dependency) => {\n            if (defined.has(dependency.name)) return;\n            if (dependency.optional) {\n              if (!knownOptionals.has(dependency.name)) {\n                knownOptionals.set(dependency.name, pluginName);\n              }\n              return;\n            }\n            throw (getDependencyError(pluginName, dependency.name));\n          });\n\n        defined.add(pluginName);\n      });\n  }\n\n  registerPlugin(plugin) {\n    this.plugins = insertPlugin(this.plugins, plugin);\n    this.cleanPluginsCache();\n  }\n\n  unregisterPlugin(plugin) {\n    this.plugins.splice(this.plugins.indexOf(plugin), 1);\n    this.cleanPluginsCache();\n  }\n\n  knownKeys(postfix) {\n    if (!this.knownKeysCache[postfix]) {\n      this.knownKeysCache[postfix] = Array.from(this.plugins\n        .map(plugin => Object.keys(plugin))\n        .map(keys => keys.filter(key => key.endsWith(postfix))[0])\n        .filter(key => !!key)\n        .reduce((acc, key) => acc.add(key), new Set()))\n        .map(key => key.replace(postfix, ''));\n    }\n    return this.knownKeysCache[postfix];\n  }\n\n  collect(key, upTo?) {\n    if (this.validationRequired) {\n      this.ensureDependencies();\n      this.validationRequired = false;\n    }\n\n    if (!this.gettersCache[key]) {\n      this.gettersCache[key] = this.plugins.map(plugin => plugin[key]).filter(plugin => !!plugin);\n    }\n    if (!upTo) return this.gettersCache[key];\n\n    const upToIndex = this.plugins.indexOf(upTo);\n    return this.gettersCache[key].filter((getter) => {\n      const pluginIndex = this.plugins.findIndex(plugin => plugin[key] === getter);\n      return pluginIndex < upToIndex;\n    });\n  }\n\n  get(key, upTo) {\n    const plugins = this.collect(key, upTo);\n\n    if (!plugins.length) return undefined;\n\n    let result = plugins[0]();\n    plugins.slice(1).forEach((plugin) => {\n      result = plugin(result);\n    });\n    return result;\n  }\n\n  registerSubscription(subscription) {\n    this.subscriptions.add(subscription);\n  }\n\n  unregisterSubscription(subscription) {\n    this.subscriptions.delete(subscription);\n  }\n\n  broadcast(event, message?: any) {\n    this.subscriptions.forEach(subscription => subscription[event] && subscription[event](message));\n  }\n\n  private cleanPluginsCache() {\n    this.validationRequired = true;\n    this.gettersCache = {};\n    this.knownKeysCache = {};\n  }\n}\n","type Handler = (e: object) => void;\n\n/** @internal */\nexport class EventEmitter {\n  private handlers: Handler[];\n\n  constructor() {\n    this.handlers = [];\n  }\n\n  emit(e) {\n    this.handlers.forEach(handler => handler(e));\n  }\n\n  subscribe(handler) {\n    this.handlers.push(handler);\n  }\n\n  unsubscribe(handler) {\n    this.handlers.splice(this.handlers.indexOf(handler), 1);\n  }\n}\n","/** @internal */\nexport const shallowEqual = (objA, objB) => {\n  if (objA === objB) {\n    return true;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  const hasOwn = Object.prototype.hasOwnProperty;\n  // tslint:disable-next-line: prefer-for-of\n  for (let i = 0; i < keysA.length; i += 1) {\n    if (!hasOwn.call(objB, keysA[i])\n        || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n\n    const valA = objA[keysA[i]];\n    const valB = objB[keysA[i]];\n\n    if (valA !== valB) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/** @internal */\nexport const argumentsShallowEqual = (prev, next) => {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  for (let i = 0; i < prev.length; i += 1) {\n    if (prev[i] !== next[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","import { argumentsShallowEqual } from './shallow-equal';\n\n/** @internal */\nexport const memoize = (func) => {\n  let lastArgs: any = null;\n  let lastResult: ReturnType<typeof func> = null;\n  return (...args) => {\n    if (lastArgs === null || !argumentsShallowEqual(lastArgs, args)) {\n      lastResult = func(...args);\n    }\n    lastArgs = args;\n    return lastResult;\n  };\n};\n","/** @internal */\nexport const easeInQuad = t => t * t;\n/** @internal */\nexport const easeOutQuad = t => t * (2 - t);\n/** @internal */\nexport const easeInOutQuad = t => (t < 0.5\n  ? 2 * t * t\n  : -1 + ((4 - (2 * t)) * t));\n\n/** @internal */\nexport const easeInCubic = t => t * t * t;\n/** @internal */\nexport const easeOutCubic = t => ((t - 1) * (t - 1) * (t - 1)) + 1;\n/** @internal */\nexport const easeInOutCubic = t => (t < 0.5\n  ? 4 * t * t * t\n  : ((t - 1) * ((2 * t) - 2) * ((2 * t) - 2)) + 1);\n\n/** @internal */\nexport const easeInQuart = t => t * t * t * t;\n/** @internal */\nexport const easeOutQuart = t => 1 - ((t - 1) * (t - 1) * (t - 1) * (t - 1));\n/** @internal */\nexport const easeInOutQuart = t => (t < 0.5\n  ? 8 * t * t * t * t\n  : 1 - (8 * (t - 1) * (t - 1) * (t - 1) * (t - 1)));\n\n/** @internal */\nexport const easeInQuint = t => t * t * t * t * t;\n/** @internal */\nexport const easeOutQuint = t => 1 + ((t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1));\n/** @internal */\nexport const easeInOutQuint = t => (t < 0.5\n  ? 16 * t * t * t * t * t\n  : 1 + (16 * (t - 1) * (t - 1) * (t - 1) * (t - 1) * (t - 1)));\n","const processPattern = (pattern, params) => Object.keys(params).reduce(\n  (msg, key) => msg.replace(`{${key}}`, params[key]),\n  pattern,\n);\n\n/** @internal */\nexport const getMessagesFormatter = messages => (key, params?) => {\n  const message = messages[key];\n\n  if (typeof message === 'function') {\n    return message(params);\n  }\n  if (params) {\n    return processPattern(message, params);\n  }\n  return message;\n};\n"],"names":[],"mappings":"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"}